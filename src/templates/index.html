<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <title>Plagiarism Checker (PDF & Text)</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <!-- HEADER -->
    <header>
      <nav
        class="navbar navbar-expand-lg navbar-dark fixed-top"
        style="background-color: #f5a97f"
      >
        <a
          class="navbar-brand d-flex align-items-center"
          href="{{ url_for('index') }}"
        >
          <img
            src="{{ url_for('static', filename='logo.png') }}"
            class="logo"
          />
          <span class="app-name">Plagiarism Checker</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="{{ url_for('index') }}">Trang ch·ªß</a>
            </li>
            <li class="nav-item"><a class="nav-link" href="#">H∆∞·ªõng d·∫´n</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Li√™n h·ªá</a></li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="header-space"></div>

    <!-- MAIN CONTAINER -->
    <main class="container-content">
      <div class="content-section">
        <h1 class="title">üß† Plagiarism Checker</h1>
        <p class="subtitle">
          Ki·ªÉm tra ƒë·∫°o vƒÉn t·ª´ <b>PDF</b> ho·∫∑c <b>ƒëo·∫°n vƒÉn b·∫£n</b>
        </p>

        <!-- FLASH MESSAGE -->
        {% with messages = get_flashed_messages() %} {% if messages %}
        <div class="flash">
          {% for m in messages %}
          <div class="flash-msg">{{ m }}</div>
          {% endfor %}
        </div>
        {% endif %} {% endwith %}

        <!-- FORM -->
        <form
          action="{{ url_for('index') }}"
          method="post"
          enctype="multipart/form-data"
          class="form-box"
        >
          <div class="input-area">
            <textarea
              name="text_input"
              rows="4"
              placeholder="Ghi n·ªôi dung vƒÉn b·∫£n c·∫ßn ki·ªÉm tra v√†o ƒë√¢y."
              class="text-input form-control"
            ></textarea>
          </div>

          <div class="d-flex flex-wrap align-items-center gap-2 mt-2">
            <button
              type="button"
              class="btn btn-outline-warning"
              id="upload-btn"
            >
              üìÑ Upload PDF
            </button>
            <span id="file-name"></span>
            <input
              type="file"
              name="file"
              accept="application/pdf"
              class="file-input"
              id="file-input"
            />
            <button type="submit" class="btn btn-warning ml-auto">
              Ki·ªÉm tra n·ªôi dung
            </button>
          </div>

          <div
            class="d-flex flex-wrap justify-content-between align-items-center mt-3"
          >
            <label class="checkbox-label">
              <input type="checkbox" name="remove_chapters" checked /> B·ªè ti√™u
              ƒë·ªÅ <b>CH∆Ø∆†NG I, CH∆Ø∆†NG II...</b>
            </label>
            <div class="limit-input d-flex align-items-center gap-2">
              <label class="label">S·ªë d√≤ng t·ªëi ƒëa:</label>
              <input
                type="number"
                name="limit_lines"
                value="30"
                min="1"
                max="500"
                class="form-control"
                style="width: 80px"
              />
            </div>
          </div>
        </form>

        <p class="note mt-3">
          üí° <b>Ghi ch√∫:</b> ·ª®ng d·ª•ng gi·ªØ nguy√™n b·ªë c·ª•c PDF khi hi·ªÉn th·ªã k·∫øt
          qu·∫£.<br />
          ƒê·ªÉ s·ª≠ d·ª•ng Google Custom Search, h√£y c·∫≠p nh·∫≠t
          <code>API_KEYS</code> &amp; <code>CX_IDS</code> trong <b>app.py</b>.
        </p>
      </div>
    </main>

    <!-- FOOTER -->
    <footer>
      <p>¬© 2025 Plagiarism Checker | <b>Test Giao di·ªán</b></p>
      <div class="footer-links">
        <a href="#">Ch√≠nh s√°ch</a>
        <a href="#">ƒêi·ªÅu kho·∫£n</a>
        <a href="#">H·ªó tr·ª£</a>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const uploadBtn = document.getElementById("upload-btn");
      const fileInput = document.getElementById("file-input");
      const fileName = document.getElementById("file-name");

      uploadBtn.addEventListener("click", () => fileInput.click());

      fileInput.addEventListener("change", () => {
        if (fileInput.files.length > 0) {
          fileName.textContent = fileInput.files[0].name;
        } else {
          fileName.textContent = "";
        }
      });
    </script>
  </body>
</html>
